<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, height=device-height, initial-scale=1, user-scalable=no">
  <meta name="description" content="API docs for the run method from the DataNoPresentation class, for the Dart programming language.">
  <title>run method - DataNoPresentation class - clean_arch_lint library - Dart API</title>


  
  <link rel="preconnect" href="https://fonts.gstatic.com">
  <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:ital,wght@0,300;0,400;0,500;0,700;1,400&display=swap" rel="stylesheet">
  <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0" rel="stylesheet">
  
  <link rel="stylesheet" href="../../static-assets/github.css?v1">
  <link rel="stylesheet" href="../../static-assets/styles.css?v1">
  <link rel="icon" href="../../static-assets/favicon.png?v1">
  
</head>

<body data-base-href="../../" data-using-base-href="false" class="light-theme">
<div id="overlay-under-drawer"></div>
<header id="title">
  <span id="sidenav-left-toggle" class="material-symbols-outlined" role="button" tabindex="0">menu</span>
  <ol class="breadcrumbs gt-separated dark hidden-xs">
    <li><a href="../../index.html">clean_arch_lint</a></li>
    <li><a href="../../clean_arch_lint/">clean_arch_lint.dart</a></li>
    <li><a href="../../clean_arch_lint/DataNoPresentation-class.html">DataNoPresentation</a></li>
    <li class="self-crumb">run method</li>
  </ol>
  <div class="self-name">run</div>
  <form class="search navbar-right" role="search">
    <input type="text" id="search-box" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
  <button class="toggle" id="theme-button" title="Toggle between light and dark mode" aria-label="Light and dark mode toggle">
    <span id="dark-theme-button" class="material-symbols-outlined" aria-hidden="true">
      dark_mode
    </span>
    <span id="light-theme-button" class="material-symbols-outlined" aria-hidden="true">
      light_mode
    </span>
  </button>
</header>
<main>
<div
    id="dartdoc-main-content"
    class="main-content"
    data-above-sidebar="clean_arch_lint&#47;DataNoPresentation-class-sidebar.html"
    data-below-sidebar="">
    <div>
<h1><span class="kind-method">run</span> method 
</h1></div>

    <section class="multi-line-signature">
      
  <div>
    <ol class="annotation-list">
        <li>@<a href="https://api.flutter.dev/flutter/dart-core/override-constant.html">override</a></li>
    </ol>
  </div>
<span class="returntype">void</span>
<span class="name ">run</span>(<wbr><ol class="parameter-list single-line"> <li><span class="parameter" id="run-param-resolver"><span class="type-annotation"><a href="https://pub.dev/documentation/custom_lint_core/0.8.1/custom_lint_core/CustomLintResolver-class.html">CustomLintResolver</a></span> <span class="parameter-name">resolver</span>, </span></li>
<li><span class="parameter" id="run-param-reporter"><span class="type-annotation"><a class="deprecated" href="https://pub.dev/documentation/analyzer/8.4.0/error_listener/ErrorReporter.html">ErrorReporter</a></span> <span class="parameter-name">reporter</span>, </span></li>
<li><span class="parameter" id="run-param-context"><span class="type-annotation"><a href="https://pub.dev/documentation/custom_lint_core/0.8.1/custom_lint_core/CustomLintContext-class.html">CustomLintContext</a></span> <span class="parameter-name">context</span></span></li>
</ol>)

      <div class="features"><span class="feature">override</span></div>

    </section>
    
<section class="desc markdown">
  <p>Runs the analysis to detect presentation dependencies in the data layer.</p>
<p>Traverses all import directives in the current file and, if the file
is in the data layer, resolves each import and checks if it points to
the presentation layer. Reports an error if violations are found.</p>
</section>


    
<section class="summary source-code" id="source">
  <h2><span>Implementation</span></h2>
  <pre class="language-dart"><code class="language-dart">@override
void run(
  CustomLintResolver resolver,
  ErrorReporter reporter,
  CustomLintContext context,
) {
  context.registry.addImportDirective((node) {
    final filePath = resolver.path;

    &#47;&#47; Checks if the file is in the data layer
    if (!isInLayer(filePath, &#39;data&#39;)) {
      return;
    }

    final uri = node.uri.stringValue;
    if (uri == null) return;

    &#47;&#47; Ignores dart: imports and external packages
    if (uri.startsWith(&#39;dart:&#39;) ||
        (uri.startsWith(&#39;package:&#39;) &amp;&amp; uri.contains(&#39;&#47;data&#47;&#39;))) {
      return;
    }

    &#47;&#47; Resolves the import using utility functions
    final sourceFilePath = resolver.source.uri.toFilePath();
    final projectRoot = extractProjectRoot(sourceFilePath);
    final packageName = extractPackageName(uri);

    final resolved = resolveImport(
      node,
      filePath,
      packageName,
      projectRoot,
    );

    if (resolved == null) return;

    &#47;&#47; Checks if it imports from presentation
    if (importsFromLayer(resolved.resolvedPath, &#39;presentation&#39;)) {
      reporter.atNode(node, _code);
    }
  });
}</code></pre>
</section>


  </div> <!-- /.main-content -->
  <div id="dartdoc-sidebar-left" class="sidebar sidebar-offcanvas-left">
    <!-- The search input and breadcrumbs below are only responsively visible at low resolutions. -->
<header id="header-search-sidebar" class="hidden-l">
  <form class="search-sidebar" role="search">
    <input type="text" id="search-sidebar" autocomplete="off" disabled class="form-control typeahead" placeholder="Loading search...">
  </form>
</header>
<ol class="breadcrumbs gt-separated dark hidden-l" id="sidebar-nav">
    <li><a href="../../index.html">clean_arch_lint</a></li>
    <li><a href="../../clean_arch_lint/">clean_arch_lint</a></li>
    <li><a href="../../clean_arch_lint/DataNoPresentation-class.html">DataNoPresentation</a></li>
    <li class="self-crumb">run method</li>
</ol>

    <h5>DataNoPresentation class</h5>
    <div id="dartdoc-sidebar-left-content"></div>
  </div><!--/.sidebar-offcanvas-->
  <div id="dartdoc-sidebar-right" class="sidebar sidebar-offcanvas-right">
</div><!--/.sidebar-offcanvas-->
</main>
<footer>
  <span class="no-break">
    clean_arch_lint
      1.1.0
  </span>
  
</footer>


<script src="../../static-assets/highlight.pack.js?v1"></script>
<script src="../../static-assets/docs.dart.js"></script>

</body>
</html>

